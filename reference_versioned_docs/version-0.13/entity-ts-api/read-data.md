# Read data

ChiselStrike entity subclasses provides several methods to read entity instances
from your route code.

| ChiselEntity function | Description |
| --- | --- |
| [`findById()`](#findbyid) | Returns a single entity instance using its unique ID |
| [`byId()`](#byid) | Same as `findById()` except throws an exception when missing |
| [`findOne()`](#findone) | Returns a single entity instance using entity property values |
| [`findMany()`](#findmany) | Returns multiple entity instances using entity property values |
| [`findAll()`](#findall) | Returns all entity instances |
| [`cursor()`](./query-cursors.md) | Pagination, filtering, and sorting with query cursors |

The examples here assume an existing BlogPost entity defined as:

```ts title="models/BlogPost.ts"
export class BlogPost extends ChiselEntity {
    author: string = "Anonymous"
    content: string
    publishedAt: number
    hidden: boolean
}
```

## `findById()`

To read a single entity given its unique ID, use the `findById()` function,
passing it the string of the entity instance ID to read. This is the same ID
that was previously generated by ChiselStrike when the instance was first
created. It returns a promise that becomes fulfilled when the read is complete,
or undefined if no entity was found.

```ts
const blogPost: BlogPost = await BlogPost.findById("[UNIQUE ID]")
if (blogPost) {
    console.log("Found", blogPost)
}
```

## `byId()`

The function `byId()` works similarly to `findId()`, except it throws an
exception if no entity instance was found.

```ts
try {
    const blogPost: BlogPost = await BlogPost.findById("[UNIQUE ID]")
}
catch (e) {
    console.log("No post found with the given ID")
}
```

## `findOne()`

To read a single entity instance given some information about its property
values, use the `findOne()` function, passing it an expression for [matching
entities]. It returns a promise that becomes fulfilled when the read is complete,
or undefined if no entity was found.

The following code returns a single BlogPost entity instance where the author
property has the exact string value "Me", specified with a [restrictions
object]:

```ts
const blogPost: BlogPost = await BlogPost.findOne({
    author: "Me",
})
if (blogPost) {
    console.log("Found", blogPost)
}
```

If there are multiple matching entity instances, only one is returned. Entity
instances have a default sort order using their unique ID strings, so the entity
with the lowest ID property (using lexical comparison) is returned.

If multiple properties are provided, ChiselStrike will query for an entity
instance where all properties are matched using logical AND.  The following code
returns a single BlogPost entity instance where the author property has the
string value "Me" and a publish time of 999:

```ts
const blogPost = await BlogPost.findOne({
    author: "Me",
    publishedAt: 999,
})
```

To find all matching entity instances, use [findMany()](#findmany) instead

## `findMany()`

To read all entity instances given some information about their property values,
use the `findMany()` function, passing it an expression for [matching entities].
It returns a promise that becomes fulfilled when the read is complete.

The following code returns all BlogPost entity instances in an array where the
author property has the string value "Me":

```ts
const blogPosts: BlogPost[] = await BlogPost.findMany({
    author: "Me",
})
```

## `findAll()`

To read all entity instances, use the `findAll()` function. It returns a promise
that becomes fulfilled when the read is complete.

The following code returns all BlogPost entity instances:

```ts
const blogPosts: BlogPost[] = await BlogPost.findAll()
```


[matching entities]: ./matching-entities
[restrictions object]: ./matching-entities#restrictions
